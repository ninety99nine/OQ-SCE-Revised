"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9201],{49201:(e,r,t)=>{t.r(r),t.d(r,{default:()=>v});var n=t(94865),o={key:0,class:"text-sm text-gray-500 mb-5"},a=(0,n.createTextVNode)("Cloning "),s={class:"text-blue-500 font-bold"},l=(0,n.createTextVNode)(" screen"),c={key:0,name:"trigger",xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2 hover:text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},i=[(0,n.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"},null,-1)],u=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor"},[(0,n.createElementVNode)("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1);var m=t(39038),h=t(68524),f=t(75802),d=t(91098),p=t(55092);const g={components:{useForm:m.cI,DefaultInput:h.Z,DefaultModal:f.Z,PrimaryButton:p.Z},props:{screen:{type:Object,default:null}},data:function(){return{form:null,useVersionBuilder:(0,d.P)()}},computed:{action:function(){return this.screen?"Clone":"Create"}},methods:{resetForm:function(){this.form=(0,m.cI)(this.screen?(0,d.P)().getClonedScreen(this.screen):(0,d.P)().getBlankScreen())},createScreen:function(e){this.form.clearErrors();var r=this.useVersionBuilder.searchScreens(this.form.name,!0).length;if(0==this.form.name.length)this.form.setError("name","The screen name is required");else if(this.form.name.length<3)this.form.setError("name","The screen name is too short");else if(this.form.name.length>50)this.form.setError("name","The screen name is too long");else if(r>0)this.form.setError("name","This screen name is already in use");else{var t=this.form.data();this.useVersionBuilder.addScreen(t),this.useVersionBuilder.selectScreen(t),this.$message({message:"Screen "+(this.screen?"cloned":"created")+" successfully",type:"success"}),e()}},cancelCreateScreen:function(){this.form.clearErrors()}}};const v=(0,t(83744).Z)(g,[["render",function(e,r,t,m,h,f){var d=(0,n.resolveComponent)("DefaultInput"),p=(0,n.resolveComponent)("PrimaryButton"),g=(0,n.resolveComponent)("DefaultModal");return(0,n.openBlock)(),(0,n.createBlock)(g,{defaultText:"Cancel",onOpen:r[1]||(r[1]=function(e){return f.resetForm()}),onClose:r[2]||(r[2]=function(r){return e.$emit("close")}),primaryAction:f.createScreen,primaryText:f.action+" Screen",defaultAction:f.cancelCreateScreen},{title:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)(f.action+" Screen"),1)]})),default:(0,n.withCtx)((function(e){var c=e.firePrimaryAction;return[t.screen?((0,n.openBlock)(),(0,n.createElementBlock)("p",o,[a,(0,n.createElementVNode)("span",s,(0,n.toDisplayString)(t.screen.name),1),l])):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(d,{modelValue:h.form.name,"onUpdate:modelValue":r[0]||(r[0]=function(e){return h.form.name=e}),label:"Name",placeholder:"Home",error:h.form.errors.name,onKeyup:(0,n.withKeys)(c,["enter"]),autofocus:!0},null,8,["modelValue","error","onKeyup"])]})),trigger:(0,n.withCtx)((function(){return[t.screen?((0,n.openBlock)(),(0,n.createElementBlock)("svg",c,i)):((0,n.openBlock)(),(0,n.createBlock)(p,{key:1,name:"trigger",class:"px-3"},{default:(0,n.withCtx)((function(){return[u,(0,n.renderSlot)(e.$slots,"default")]})),_:3}))]})),_:3},8,["primaryAction","primaryText","defaultAction"])}]])}}]);