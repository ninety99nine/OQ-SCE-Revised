"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7840],{27840:(e,r,t)=>{t.r(r),t.d(r,{default:()=>y});var o=t(94865),a={key:0,class:"text-sm text-gray-500 mb-5"},n=(0,o.createTextVNode)("Cloning "),s={class:"text-blue-500 font-bold"},l=(0,o.createTextVNode)(" marker"),i=(0,o.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[(0,o.createElementVNode)("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1),m=(0,o.createElementVNode)("span",null,"Create Marker",-1),u={key:1,name:"trigger",xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2 cursor-pointer hover:text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},c=[(0,o.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"},null,-1)],d={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2 cursor-pointer hover:text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},h=[(0,o.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"},null,-1)];t(96486);var f=t(39038),p=t(66222),k=t(75802),v=t(91098),g=t(55092);const w={components:{useForm:f.cI,DefaultInput:p.Z,DefaultModal:k.Z,PrimaryButton:g.Z},props:{markers:{type:Array,default:function(){return[]}},marker:{type:String,default:null},index:{type:Number,default:null},mode:{type:String,default:null,validator:function(e){return["create","clone","update"].includes(e)}}},data:function(){return{form:null,useVersionBuilder:(0,v.P)()}},computed:{modeInCaps:function(){return this.mode.charAt(0).toUpperCase()+this.mode.slice(1)}},methods:{resetForm:function(){"create"==this.mode?this.form=(0,f.cI)((0,v.P)().getBlankMarker(this.markers)):["clone","update"].includes(this.mode)&&(this.form=(0,f.cI)((0,v.P)().getClonedMarker(this.marker)))},createMarker:function(e){this.form.clearErrors();var r=this.useVersionBuilder.searchMarkers(this.markers,this.form.name,!0).length;if(0==this.form.name.length?this.form.setError("name","The marker name is required"):this.form.name.length<3?this.form.setError("name","The marker name is too short"):this.form.name.length>50?this.form.setError("name","The marker name is too long"):(["create","clone"].includes(this.mode)&&r||"update"==this.mode&&r&&this.marker!==this.form.name)&&this.form.setError("name","This marker name is already in use"),!1===this.form.hasErrors){var t=this.form.data();"update"==this.mode?this.useVersionBuilder.updateMarker(this.markers,t,this.index):this.useVersionBuilder.addMarker(this.markers,t);var o=this.mode+"d";this.$message({message:"Marker "+o+" successfully",type:"success"}),e()}},cancelCreateMarker:function(){this.form.clearErrors()}}};const y=(0,t(83744).Z)(w,[["render",function(e,r,t,f,p,k){var v=(0,o.resolveComponent)("DefaultInput"),g=(0,o.resolveComponent)("PrimaryButton"),w=(0,o.resolveComponent)("DefaultModal");return(0,o.openBlock)(),(0,o.createBlock)(w,{defaultText:"Cancel",onOpen:r[1]||(r[1]=function(e){return k.resetForm()}),onClose:r[2]||(r[2]=function(r){return e.$emit("close")}),primaryAction:k.createMarker,primaryText:k.modeInCaps+" Marker",defaultAction:k.cancelCreateMarker},{title:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(k.modeInCaps+" Marker"),1)]})),default:(0,o.withCtx)((function(e){var i=e.firePrimaryAction;return["clone"==t.mode?((0,o.openBlock)(),(0,o.createElementBlock)("p",a,[n,(0,o.createElementVNode)("span",s,(0,o.toDisplayString)(t.marker),1),l])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(v,{modelValue:p.form.name,"onUpdate:modelValue":r[0]||(r[0]=function(e){return p.form.name=e}),label:"Name",error:p.form.errors.name,onKeyup:(0,o.withKeys)(i,["enter"]),autofocus:!0,class:"mb-6"},null,8,["modelValue","error","onKeyup"])]})),trigger:(0,o.withCtx)((function(){return["create"==t.mode?((0,o.openBlock)(),(0,o.createBlock)(g,{key:0,name:"trigger",class:"px-3"},{default:(0,o.withCtx)((function(){return[i,m]})),_:1})):"clone"==t.mode?((0,o.openBlock)(),(0,o.createElementBlock)("svg",u,c)):"update"==t.mode?((0,o.openBlock)(),(0,o.createElementBlock)("svg",d,h)):(0,o.createCommentVNode)("",!0)]})),_:1},8,["primaryAction","primaryText","defaultAction"])}]])}}]);