"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[702],{30702:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(94865),o={class:"flex items-center justify-between mb-6"},s=(0,r.createElementVNode)("h1",{class:"text-xl font-semibold text-gray-700 mb-2"},"Notifications",-1),a={class:"flex divide-x border rounded-md py-2 px-6"},i={class:"text-center text-xs m-auto"},l=(0,r.createElementVNode)("p",{class:"mb-2 text-gray-400"},"Total",-1),c={class:"flex items-end justify-between mb-6"};var u=n(9669),h=n.n(u),d=n(53233),p=n(49510);const f={components:{DefaultSelect:d.Z,DefaultSearchBar:p.Z},data:function(){return{totalNotifications:this.$page.props.statistics.totalNotifications,selectedVersion:this.route().params.version,versionOptions:this.$page.props.versionOptions.map((function(e){return{label:e.number,value:e.id}})),search:null,request:null,refreshContentInterval:null}},methods:{refreshContent:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(0!=t||!this.request){1==t&&(this.request&&this.request.cancel(),this.$emit("isLoading",!0));var n=h().CancelToken.source();this.request={cancel:n.cancel};var r,o={cancelToken:n.token};"notifications.show"===route().current()?r=route(route().current(),{project:this.route().params.project,app:this.route().params.app,version:this.selectedVersion,search:this.search}):"account.notifications.show"===route().current()&&(r=route(route().current(),{project:this.route().params.project,account:this.route().params.account,app:this.route().params.app,version:this.selectedVersion,search:this.search})),h().get(r,o).then((function(t){e.$emit("response",t.data),e.$emit("isLoading",!1),e.request=null}))}},cleanUp:function(){clearInterval(this.refreshContentInterval),this.refreshContentInterval=null}},created:function(){this.refreshContentInterval=setInterval(function(){this.refreshContent(!1)}.bind(this),3e3)},unmounted:function(){this.cleanUp()}};const m=(0,n(83744).Z)(f,[["render",function(e,t,n,u,h,d){var p=(0,r.resolveComponent)("DefaultSelect"),f=(0,r.resolveComponent)("DefaultSearchBar");return(0,r.openBlock)(),(0,r.createElementBlock)("div",null,[(0,r.createElementVNode)("div",o,[s,(0,r.createElementVNode)("div",a,[(0,r.createElementVNode)("div",i,[l,(0,r.createElementVNode)("p",{class:(0,r.normalizeClass)([(0==h.totalNotifications?"text-gray-300":"text-blue-500")+" font-semibold text-lg"])},(0,r.toDisplayString)(h.totalNotifications),3)])])]),(0,r.createElementVNode)("div",c,[(0,r.createVNode)(p,{modelValue:h.selectedVersion,"onUpdate:modelValue":t[0]||(t[0]=function(e){return h.selectedVersion=e}),options:h.versionOptions,onChange:t[1]||(t[1]=function(e){return d.refreshContent()}),label:"Filter by version",placeholder:"Select version",class:"w-40"},null,8,["modelValue","options"]),(0,r.createVNode)(f,{modelValue:h.search,"onUpdate:modelValue":t[2]||(t[2]=function(e){return h.search=e}),onOnSearch:t[3]||(t[3]=function(e){return d.refreshContent()}),placeholder:"Search notifications",class:"w-80"},null,8,["modelValue"])])])}]])}}]);